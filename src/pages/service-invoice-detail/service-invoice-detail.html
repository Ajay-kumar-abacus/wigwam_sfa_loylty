<!--
  Generated template for the ServiceInvoiceDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Invoice Detail</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content pullingIcon="arrow-dropdown" pullingText="Pull to refresh" refreshingSpinner="circles"
      refreshingText="Refreshing...">
    </ion-refresher-content>
  </ion-refresher>
  <div class="detais">


    <div class="attendance-list flat-list">
      <div class="slab slab-bg" style="display: flex; justify-content: space-between;">
        <div class="slab-day">
          <p>
            {{invoice_detail.date_created | date:'d MMM y'}}
          </p>
          <span>Date Created</span>
        </div>

        <div class="slab-day">
          <p>{{invoice_detail.complaint_no ? invoice_detail.complaint_no : '---'}}</p>
          <span>Complaint No</span>
        </div>
        <div class="slab-day">
          <p>{{invoice_detail.invoice_no ? invoice_detail.invoice_no : '---'}}</p>
          <span>Invoice No</span>
        </div>

      </div>
      <div class="center-block">
        <div class="circle">{{invoice_detail.customer_name?.substring(0,1).toUpperCase()}}</div>
        <h1 class="f12">{{invoice_detail.customer_name ? (invoice_detail.customer_name | titlecase) : '---'}}</h1>
        <p>{{invoice_detail.customer_mobile ? invoice_detail.customer_mobile : '---'}}</p>

      </div>

      <div class="slab" style="display: flex; justify-content: space-between; align-items: flex-end;margin-top: 10px;">
        <div class="slab-day">
          <p>{{invoice_detail.type ? (invoice_detail.type | titlecase) : '---'}}</p>
          <span>Invoice Type</span>
        </div>


        <div class="slab-day">
          <p class="bold">{{invoice_detail.status ? (invoice_detail.status | titlecase) :'---'}}</p>
          <span>Payment Status</span>
        </div>



      </div>
    </div>


    <div class="attendance-list flat-list" *ngIf="invoice_detail.status == 'Paid'">
      <div class="slab" style="display: flex; justify-content: space-between; align-items: flex-end;margin-top: 10px;">
        <div class="slab-day">
          <p>
            {{invoice_detail.invoice_final_amount}}
          </p>
          <span>Amount Paid</span>
        </div>


        <div class="slab-day">
          <p>
            {{invoice_detail.transaction_no ? invoice_detail.transaction_no :'---'}}
          </p>
          <span>{{invoice_detail.payment_mode}}</span>
        </div>

        <div class="slab-day">
          <p>{{invoice_detail.payment_remark ? (invoice_detail.payment_remark |titlecase) :'---'}}</p>
          <span>Payment Remark</span>
        </div>

      </div>

    </div>


    <div class="border-container mt16" *ngIf="invoice_detail.type == 'Spare Part'">
      <div class="summary-heading">Invoice Summary</div>
      <div class="payment-box">
        <div class="credit-table">
          <table>
            <tr>
              <th class="w70">Part No</th>
              <th class="w70  text-center">Amount</th>

              <th class="w50 text-center">QTY</th>
              <th class="w75 text-center">Discount</th>
              <th class="w80 text-center">Net Amount</th>
            </tr>
            <ng-container *ngFor="let item of add_list;let i = index">
              <tr>
                <td class="w70">
                  {{ item.part_no | titlecase}}
                </td>
                <td class="w70 text-center">

                  {{item.amount}}/-
                </td>

                <td class="w50 text-center">
                  {{item.qty}}
                </td>
                <td class="w75  text-center">
                  {{item.discount_amount}}/-
                </td>
                <td class="w80 text-center">
                  {{item.final_amount}}/-
                </td>
              </tr>
            </ng-container>
          </table>
        </div>
      </div>
    </div>



    <div class="border-container mt16">

      <ng-container>
        <div class="pb100">
          <div class="remarkSent">
            <p class="remarkMsg">Sub Total</p>
            <div class="dateCreated"><span>{{invoice_detail.sub_amount}}/-</span></div>
          </div>
          <div class="remarkSent">
            <p class="remarkMsg">Discount</p>
            <div class="dateCreated"><span>{{invoice_detail.discount_amount}}/-</span></div>
          </div>
          <div class="remarkSent">
            <p class="remarkMsg">GST(18%)</p>
            <div class="dateCreated"><span>{{invoice_detail.gst_amount}}/-</span></div>
          </div>
          <div class="remarkSent">
            <p class="remarkMsg">Net Amount</p>
            <div class="dateCreated"><span>{{invoice_detail.invoice_final_amount}}/-</span></div>
          </div>
        </div>

      </ng-container>
    </div>



    <div class="enquiry-btn add-btns mt20" *ngIf="invoice_detail.status == 'Pending'">
      <button ion-button block class="h40 green-color" style="letter-spacing: 1px;"
        (click)="gotoPayment(invoice_detail.invoice_no , invoice_detail.complaint_no ,invoice_detail.invoice_final_amount)">
        <p>Add Payment</p>
      </button>
    </div>


  </div>



</ion-content>